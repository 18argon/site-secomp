{# Base.html #}
{% extends "bootstrap/base.html" %}
{# TODO: navbar ajeitar a maneira collapsed da navbar #}

{% block html_attribs %} lang="pt-br" {% endblock %}
{% block head %}
{% block metas %}
{{ super() }}
<meta charset="utf-8"/>
<meta http-equiv="x-ua-compatible" content="ie=edge"/>
<meta name="description" content="{{secompEdition}} Semana da Computação UFSCar"/>
<meta name="organization" content="SECOMP UFSCar"/>
{% endblock %}

<title>{% block title %}SECOMP UFSCar {{secompEdition}}{% endblock %}</title>
{# styles globais #}
{% block styles %}
<link href="{{ url_for('static', filename='bs/css/bootstrap.css') }}" rel="stylesheet" type="text/css"/>
<link href="{{ url_for('static', filename='bs/css/bootstrap-grid.min.css') }}" rel="stylesheet" type="text/css"/>
<link href="{{ url_for('static', filename='bs/css/bootstrap-reboot.min.css') }}" rel="stylesheet" type="text/css"/>
<link href="{{ url_for('static', filename='css/main.css') }}" rel="stylesheet" type="text/css"/>
{% endblock %}

{% block favicon %}
<link rel="icon" type="image/png" href="{{ url_for('static', filename='images/logoTest.png') }}"/>
{% endblock %}
{% endblock %}

{% block body %}
{% block navbar %}
<header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-gradient-primary">
	<div class="container-fluid">
	    {# Marca d'água para a home  #}
	    <a class="navbar-brand ml-auto" href="{{ url_for('index') }}"><img src="{{ url_for('static', filename='images/logoTest.png') }}" width="30" height="30" alt="Logo atual da SECOMP"/></a>
	    {# TODO mudar o aria #}
	    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarItens" aria-controls="navbarItens" aria-expanded="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"></span>
	    </button>
	    <div class="collapse mr-auto navbar-collapse" id="navbarItens">
		{# TODO colocar uma lógica Jinja para active...? #}
		{# TODO colocar uma lógica Jinja para usuário logado? #}
		<ul class="navbar-nav mr-auto">
		    <li class="nav-item">
			<a class="nav-link" href="{{ url_for('index') }}">HOME</a>
		    </li>
		    <li class="nav-item dropdown">
			<a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" id="secomp">
			    Secomp
			</a>
			<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
			    <a class="dropdown-item" href="#">Sobre o Evento</a>
			    <a class="dropdown-item" href="#">Equipe</a>
			    {# Colocar como um link separado? #}
			    <a class="dropdown-item" href="#">Contato</a>
			    <a class="dropdown-item" href="#">Gameficação</a>
			</div>
		    </li>
		    <li class="nav-item dropdown">
			<a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" id="eventos">
			    Eventos
			</a>
			<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
			    <a class="dropdown-item" href="#">Cronograma</a>
			    <a class="dropdown-item" href="#">CTF</a>
			    <a class="dropdown-item" href="#">Churrasco</a>
			</div>
		    </li>
		    <li class="nav-item">
			<a class="nav-link" href="#">FAQ</a>
		    </li>
		    {# TODO adicionar eventos, a secomp, equipe (caravanas, patrocínio?) #}
		</ul>

		{# TODO: Corrigir o espaçamento #}
		<!-- Lado direito da Navbar -->
		<div class="navbar-nav">
		    {# TODO: criar lógica baseada no bd #}
		    {% if current_user.is_authenticated %}
		    <a class="nav-item nav-link" href="{{ url_for('dashboard_usuario') }}">Participante</a>
		    <a class="nav-item nav-link" href="{{ url_for('logout') }}">Sair</a>
		    {% else %}
		    <a class="nav-item nav-link" href="{{ url_for('login') }}">Entrar</a>
		    <a class="nav-item nav-link" href="{{ url_for('cadastro') }}">Inscrever</a>
		    {% endif %}
		</div>
	    </div>
	</div>
    </nav>
</header>
{% endblock %}

<main>
<div class="content">
    {% block content %}{% endblock %}
</div>
</main>

{# Rascunho de rodapé #}
{% block footer %}
<footer class="page-footer font-small bg-dark pt-4 text-white">
    <div class="container">
	<div class="col-md-6 mx-auto align-self-center">
	    {# Expandir variável secomp com nome dos membros #}
	    <p>Desenvolvido por 
	    {% for name in secomp|sort %}
	    {% if not loop.last %}
	    {{ name }}, 
	    {% else %}
	    {{ name }}.
	    {% endif %}
	    {% endfor %}
	    </p>

	    {# Expandir variável para o email da secomp #}
	    <p><a href="mailto:{{ secomp_email }}">{{ secomp_email }}</a></p>

	    {# Expandir variável para mantenedores atuais #}
	    <p>Atualmente mantido por 
	    {% for name in secomp_now|sort %}
	    {% if not loop.last %}
	    {{ name }}, 
	    {% else %}
	    {{ name }}.
	    {% endif %}
	    {% endfor %}
	    </p><hr/>

	    <p>Universidade Federal de São Carlos<br/>
	    Departamento de Computação<br/>
	    Rodovia Washington Luís, Km 235 - Bairro Jardim Guanabara - São Carlos/SP - CEP 13565-905</p>
	</div>
    </div>
</footer>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='jquery/jquery.min.js') }}"></script>
<script src="{{ url_for('static', filename='popper/umd/popper.min.js') }}"></script>
<script src="{{ url_for('static', filename='bs/js/bootstrap.min.js') }}"></script>

{% endblock %}
{% endblock %}


